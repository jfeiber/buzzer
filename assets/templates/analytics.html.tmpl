<!DOCTYPE html>

<title>Analytics | Buzzer</title>

<html lang="en">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../../icon.ico">

<head>
{{ template "header.html.tmpl" .}}

{{ template "navbar.html.tmpl" .}}
<div class="row login-alert">
  <div id="alert_placeholder"></div>
</div>

<title>Analytics | Buzzer</title>

<script>
    console.log($('.input-daterange input') === undefined)
    $(document).ready(function(){
        $('.input-daterange input').each(function() {
            $(this).datepicker({
                format: "mm/dd/yyyy",
                startDate: "01/01/2000",
                endDate: ""
            });
        });
    });

</script>

<link href="https://fonts.googleapis.com/css?family=Lato:normal,light,bold" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link href="/assets/static/css/bootstrap.min.css" rel="stylesheet">

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="/assets/static/css/buzzer.css" rel="stylesheet">

<!-- JS file for chart creation -->
<script src="/assets/static/js/Chart.min.js"></script>

</head>


<body>
<div class="container">
  <div class="row">
        <div class="col-md-12">
            <h2>Analytics</h2>
        </div>

        <div class="input-group input-daterange">
            <input type="text" class="form-control startDate" value="10/03/2016">
            <div class="input-group-addon">to</div>
            <input type="text" class="form-control endDate" value="11/06/2016">
        </div>
    </div>
</div>

<div class="container">
  <div class="row">
        <div id="historical_parties" class="col-md-12">
            <h2>Historical Parties</h2>
        </div>
        <button class="btn btn-default get_parties_button" type="button">Get Historical</button>
        <div id="average_party_size" class="col-md-12">
            <h2>Average Party Size</h2>
        </div>
        <button class="btn btn-default get_average_party_size_button" type="button">Get historical and average_party_size</button>
        <button class="btn btn-default get_average_wait_time_button" type="button">Get historical and average wait time</button>
</div>



  <!-- div for basic chart loaded on render -->
  <div align="center" style="padding-top:100px">
      <div style="width:800px;height:600px">
          <canvas id="myChart"></canvas>
      </div>
    </div>
  </div>


  <!-- js script to build base chart from passed data -->
    <script>

      $(document).ready(function() {

        var labelData = {{.label_data}}
        var dateData = {{.graph_data}}

        var ctx = document.getElementById("myChart");
        var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels: labelData,
              datasets: [{
                  label: '# of Guests',
                  data: dateData,
                  backgroundColor: [
                      'rgba(66, 107, 231, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(66, 107, 231, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
          maintainAspectRatio: false,
          options: {
              scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true
                      }
                  }]
              }
          }
        });
      });
    </script>

</body>
</html>
