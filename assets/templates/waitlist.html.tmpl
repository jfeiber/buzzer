<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <!-- Stuff for bootstrap table: http://www.w3schools.com/bootstrap/bootstrap_tables.asp-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <title>Buzzer - Waitlist</title>

  <!-- Lato font family, thanks to Åukasz Dziedzic (Open Font License) -->
  <link href="https://fonts.googleapis.com/css?family=Lato:light,bold" rel="stylesheet">

  <!-- Bootstrap core CSS -->
  <link href="/assets/static/css/bootstrap.min.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/assets/static/css/buzzer.css" rel="stylesheet">

  <!-- JQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <!-- Bootstrap -->
  <script src="/assets/static/js/bootstrap.min.js"></script>

  <!-- Sitewide JS -->
  <script src="/assets/static/js/buzzer.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavBar">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="#">Buzzer</a>
  </div>
  <div class="collapse navbar-collapse" id="myNavBar">
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Waitlist</a></li>
      <li><a href="#">Devices</a></li>
      <li><a href="#">Analytics</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
          <a href="#" class="glyphicon glyphicon-cog white" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"></a>
          <ul class="dropdown-menu">
            <li><a href="#">Help</a></li>
            <li><a href="#">Contact Buzzer</a></li>
            <li><a href="#">Something else here</a></li>
          </ul>
      </li>
    </ul>
  </div>
</div>
</nav>


<!-- Should remove this and overhaul header-->
<!-- <br>
<br>
<br> -->
<div class="row login-alert">
  <div id="alert_placeholder"></div>
</div>
<!-- <br> -->

<div class="container-fluid">
 <div class="row">
   <div class="col-md-3 col-sm-3">
     <input type="text" class="form-control" id="party-name-field" placeholder="Party Name">
 </div>
 <div class="col-md-2 col-sm-3">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" id="party-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true", value = "">
      Party Size <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
      <li><a href="#">1</a></li>
      <li><a href="#">2</a></li>
      <li><a href="#">3</a></li>
      <li><a href="#">4</a></li>
      <li><a href="#">5</a></li>
      <li><a href="#">6</a></li>
      <li><a href="#">7</a></li>
      <li><a href="#">8</a></li>
      <li><a href="#">9</a></li>
      <li><a href="#">10</a></li>
      <li><a href="#">11</a></li>
      <li><a href="#">12</a></li>
  </ul>

</div>
</div>

<!-- Source: http://stackoverflow.com/questions/22362750/bootstrap-button-group-pre-select-button-with-html-only: -->
<div class="col-md-3 col-sm-3">
    <div class="btn-group phone-ahead-toggle" data-toggle="buttons" id="btnrocker">
        <label class="btn btn-default active" id="btnrocker">
            <input type="radio" name="options" id="waitlist" width="20"><span class="glyphicon glyphicon-user"></span>
        </label>
        <label class="btn btn-default" id="btnrocker">
            <input type="radio" name="options" id="phone" width="20"><span class="glyphicon glyphicon-earphone"></span>
        </label>
    </div>
</div>
<div class="col-md-4 col-sm-3">

  <div class="btn-group dropdown">
    <button type="button" class="btn btn-default dropdown-toggle" id="hours-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" value = "">
      Hours <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
      <li><a href="#">0</a></li>
      <li><a href="#">1</a></li>
      <li><a href="#">2</a></li>
      <li><a href="#">3</a></li>
  </ul>

</div>
<strong>:</strong>
<div class="btn-group dropdown">
    <button type="button" class="btn btn-default dropdown-toggle" id="minutes-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" value="">
      Minutes <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
     <li><a href="#">00</a></li>
     <li><a href="#">05</a></li>
     <li><a href="#">10</a></li>
     <li><a href="#">15</a></li>
     <li><a href="#">20</a></li>
     <li><a href="#">25</a></li>
     <li><a href="#">30</a></li>
     <li><a href="#">35</a></li>
     <li><a href="#">40</a></li>
     <li><a href="#">45</a></li>
     <li><a href="#">50</a></li>
     <li><a href="#">55</a></li>
 </ul>
</div>

<button class="btn btn-default add-party-button" type="button">ADD</button>

</div>
</div>
</div>

<!-- Responsive Table used from: http://www.w3schools.com/bootstrap/bootstrap_tables.asp -->
<div class="container">
 <h2>Waitlist</h2>
 <table class="table table-bordered">
   <thead>
     <tr>
       <th>Party Name</th>
       <th>Party Size</th>

       <th>Time Spent Waiting</th>
       <th>Type</th>
       <th>Actions</th>
   </tr>
</thead>
<tbody>
  {{range .waitlist_data}}
          <tr>
            <td>{{.PartyName}}</td>
            <td>{{.PartySize}}</td>
            <td>{{ (call $.formatElapsedWaitingTime .TimeCreated) }}</td>
            {{ if .PhoneAhead }}
              <td><span class="glyphicon glyphicon-earphone"></span></td>
            {{else}}
              <td><span class="glyphicon glyphicon-user"></span></td>
            {{end}}
            <td>
              <button type="button" onclick="alert('Something!')">Click Me!</button>
              <button class="delete" activePartyID="{{.ID}}" type="button" onclick="alert('Delete!')">Delete</button>
            </td>
          </tr>
        {{end}}
</tbody>
</table>
</div>

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
<script>
    $('.delete').click(function() {
        $.ajax({
           url: '/frontend_api/delete_party',
           data:  JSON.stringify(
                {activePartyID: $(this).attr('activePartyID')}
            ),
           error: function(response) {
              console.log(response);
           },
           dataType: 'jsonp',
           success: function(data) {
              console.log("Success delete!");
           },
           type: 'POST'
       });
    });
</script>
</body>
</html>
